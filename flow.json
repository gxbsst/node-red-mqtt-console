[{"id":"cef65a87.85b978","type":"tab","label":"MQTT监控","disabled":false,"info":""},{"id":"76cf9ade.1171a4","type":"tab","label":"OPC信号监控","disabled":false,"info":""},{"id":"3cb9951c.b40e9a","type":"tab","label":"OPC保存和获取","disabled":false,"info":""},{"id":"45b6e581.2ef7ec","type":"tab","label":"OPC监控-仓","disabled":false,"info":""},{"id":"851499c5.a870f8","type":"tab","label":"OPC监控-其他","disabled":false,"info":""},{"id":"979db3eb.389ac","type":"tab","label":"仓盖监控","disabled":false,"info":""},{"id":"5f3fd6e.c4b4328","type":"tab","label":"报警","disabled":false,"info":""},{"id":"c346649a.4988d8","type":"tab","label":"test","disabled":false,"info":""},{"id":"e4fcb196.eb4fb","type":"tab","label":"流程1","disabled":false,"info":""},{"id":"182e6bbd.081754","type":"ui_group","z":"cef65a87.85b978","name":"MQTT Console","disp":true,"width":"12"},{"id":"d1f74b55.5573a8","type":"ui_base","theme":{"name":"theme-light","lightTheme":{"default":"#0094CE","baseColor":"#0094CE","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"darkTheme":{"default":"#097479","baseColor":"#011314","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"customTheme":{"name":"Untitled Theme 1","default":"#4B7930","baseColor":"#4B7930","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","reset":false},"themeState":{"base-color":{"default":"#0094CE","value":"#0094CE","edited":true},"page-titlebar-backgroundColor":{"value":"#0094CE","edited":false},"page-backgroundColor":{"value":"#fafafa","edited":false},"page-sidebar-backgroundColor":{"value":"#ffffff","edited":false},"group-textColor":{"value":"#1bbfff","edited":false},"group-borderColor":{"value":"#ffffff","edited":false},"group-backgroundColor":{"value":"#ffffff","edited":false},"widget-textColor":{"value":"#111111","edited":false},"widget-backgroundColor":{"value":"#0094ce","edited":false},"widget-borderColor":{"value":"#ffffff","edited":false},"base-font":{"value":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"}}},"site":{"name":"看板","hideToolbar":"false","allowSwipe":"true","dateFormat":"DD/MM/YYYY","sizes":{"sx":48,"sy":48,"gx":6,"gy":6,"cx":6,"cy":6,"px":0,"py":0}}},{"id":"e3c06cd2.99797","type":"ui_tab","z":"","name":"MQTT监控","icon":"dashboard","order":1},{"id":"979a1d8f.700ab","type":"ui_group","z":"","name":"全部","tab":"e3c06cd2.99797","order":1,"disp":true,"width":"6","collapse":false},{"id":"a46a9e73.5d3d9","type":"mqtt-broker","z":"","name":"","broker":"192.168.10.62","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"willTopic":"","willQos":"0","willPayload":"","birthTopic":"","birthQos":"0","birthPayload":""},{"id":"5e32c6ef.67d2b8","type":"ui_tab","z":"","name":"MQTT监控","icon":"dashboard","order":2},{"id":"d4667873.23c208","type":"ui_group","z":"","name":"1楼出库","tab":"5e32c6ef.67d2b8","order":1,"disp":true,"width":"3","collapse":false},{"id":"ab688ef4.cb80f","type":"ui_group","z":"","name":"3楼称重人员刷卡","tab":"5e32c6ef.67d2b8","order":2,"disp":true,"width":"3","collapse":false},{"id":"9d9856fa.608a18","type":"ui_group","z":"","name":"3楼桶卡称重","tab":"5e32c6ef.67d2b8","order":3,"disp":true,"width":"3","collapse":false},{"id":"500b2237.26a34c","type":"ui_group","z":"","name":"3楼物料称重","tab":"5e32c6ef.67d2b8","order":4,"disp":true,"width":"3","collapse":false},{"id":"7f2eeac8.acfd14","type":"ui_group","z":"","name":"3楼投料人员","tab":"5e32c6ef.67d2b8","order":5,"disp":true,"width":"3","collapse":false},{"id":"16260fcb.bab21","type":"ui_group","z":"","name":"6楼投料","tab":"5e32c6ef.67d2b8","order":6,"disp":true,"width":"3","collapse":false},{"id":"a4c8b718.f0bdd8","type":"ui_group","z":"","name":"6楼人员","tab":"5e32c6ef.67d2b8","order":7,"disp":true,"width":"3","collapse":false},{"id":"707b3dfa.025754","type":"ui_group","z":"","name":"控制LED灯","tab":"5e32c6ef.67d2b8","order":8,"disp":true,"width":"3","collapse":true},{"id":"c2014fbf.2098c","type":"ui_group","z":"","name":"小料打印","tab":"5e32c6ef.67d2b8","order":9,"disp":true,"width":"3","collapse":true},{"id":"b83e0c48.fd3b5","type":"ui_group","z":"","name":"21线称重完成","tab":"5e32c6ef.67d2b8","order":10,"disp":true,"width":"3","collapse":true},{"id":"8a90c089.94cb1","type":"ui_group","z":"","name":"12线称重完成","tab":"5e32c6ef.67d2b8","order":11,"disp":true,"width":"3","collapse":true},{"id":"9320f9eb.c08638","type":"ui_group","z":"","name":"11线称重完成","tab":"5e32c6ef.67d2b8","order":12,"disp":true,"width":"3","collapse":true},{"id":"9e238497.349458","type":"ui_group","z":"","name":"3楼投料桶卡","tab":"5e32c6ef.67d2b8","order":13,"disp":true,"width":"3","collapse":true},{"id":"3b403989.f454c6","type":"ui_tab","z":"","name":"OPC监控-仓","icon":"dashboard","order":3},{"id":"2890b46d.6d9fac","type":"ui_group","z":"45b6e581.2ef7ec","name":"BagsClear 显示框上当前打包总数清零，触发清零操作时值变为1，触发完毕之后值变为0","tab":"3b403989.f454c6","order":19,"disp":true,"width":"6","collapse":true},{"id":"9bc6b7b7.a8c4b8","type":"ui_group","z":"","name":"14号仓","tab":"3b403989.f454c6","order":14,"disp":true,"width":"4","collapse":false},{"id":"d78e8a4d.fbd358","type":"ui_group","z":"","name":"1号仓","tab":"3b403989.f454c6","order":1,"disp":true,"width":"4","collapse":false},{"id":"76f87456.6e983c","type":"ui_group","z":"","name":"10号仓","tab":"3b403989.f454c6","order":10,"disp":true,"width":"4","collapse":false},{"id":"8cfbc525.344368","type":"ui_group","z":"","name":"11号仓","tab":"3b403989.f454c6","order":11,"disp":true,"width":"4","collapse":false},{"id":"b0f06a0c.b65398","type":"ui_group","z":"","name":"12号仓","tab":"3b403989.f454c6","order":12,"disp":true,"width":"4","collapse":false},{"id":"4dd3ab69.3c4474","type":"ui_group","z":"","name":"13号仓","tab":"3b403989.f454c6","order":13,"disp":true,"width":"4","collapse":false},{"id":"560b4b29.e57b94","type":"ui_group","z":"","name":"15号仓","tab":"3b403989.f454c6","order":15,"disp":true,"width":"4","collapse":false},{"id":"b4427ecd.23025","type":"ui_group","z":"","name":"16号仓","tab":"3b403989.f454c6","order":16,"disp":true,"width":"4","collapse":false},{"id":"637f7469.fe97bc","type":"ui_group","z":"","name":"17号仓","tab":"3b403989.f454c6","order":17,"disp":true,"width":"4","collapse":false},{"id":"5fee8970.6f7818","type":"ui_group","z":"","name":"18号仓","tab":"3b403989.f454c6","order":18,"disp":true,"width":"4","collapse":false},{"id":"8f68ad76.433db","type":"ui_group","z":"","name":"2号仓","tab":"3b403989.f454c6","order":2,"disp":true,"width":"4","collapse":false},{"id":"b929c5c2.2d89b8","type":"ui_group","z":"","name":"3号仓","tab":"3b403989.f454c6","order":3,"disp":true,"width":"4","collapse":false},{"id":"adc94a58.8104e8","type":"ui_group","z":"","name":"4号仓","tab":"3b403989.f454c6","order":4,"disp":true,"width":"4","collapse":false},{"id":"319f7754.61dbb8","type":"ui_group","z":"","name":"5号仓","tab":"3b403989.f454c6","order":5,"disp":true,"width":"4","collapse":false},{"id":"c2e6e0da.98a8a","type":"ui_group","z":"","name":"6号仓","tab":"3b403989.f454c6","order":6,"disp":true,"width":"4","collapse":false},{"id":"b61c97b9.9ba358","type":"ui_group","z":"","name":"7号仓","tab":"3b403989.f454c6","order":7,"disp":true,"width":"4","collapse":false},{"id":"c2d01502.8d51c8","type":"ui_group","z":"","name":"8号仓","tab":"3b403989.f454c6","order":8,"disp":true,"width":"4","collapse":false},{"id":"7035559.cdf00ac","type":"ui_group","z":"","name":"9号仓","tab":"3b403989.f454c6","order":9,"disp":true,"width":"4","collapse":false},{"id":"113c896e.531c57","type":"ui_group","z":"","name":"12称","tab":"3b403989.f454c6","disp":true,"width":"6","collapse":false},{"id":"adf6bf39.296a6","type":"ui_tab","z":"","name":"OPC监控-其他","icon":"dashboard","order":4},{"id":"1be303ec.f8845c","type":"ui_group","name":"Group 1","tab":"adf6bf39.296a6","order":1,"disp":true,"width":6},{"id":"12a0c83e.a3db18","type":"ui_tab","z":"","name":"OPC信号监控","icon":"dashboard","order":5},{"id":"f9c5b30c.9757e","type":"ui_group","z":"","name":"opc/mixer_full","tab":"12a0c83e.a3db18","order":1,"disp":true,"width":"3","collapse":false},{"id":"75b87c64.30e064","type":"ui_group","z":"","name":"buhler_bin_open","tab":"12a0c83e.a3db18","disp":true,"width":"3","collapse":false},{"id":"654d7091.3db9a","type":"ui_group","z":"","name":"TotalBags","tab":"12a0c83e.a3db18","disp":true,"width":"3","collapse":false},{"id":"f10972e4.788e8","type":"ui_group","z":"","name":"zt_tz","tab":"12a0c83e.a3db18","disp":true,"width":"3","collapse":false},{"id":"61faee9a.b75b4","type":"ui_group","z":"","name":"TotalBags","tab":"12a0c83e.a3db18","disp":true,"width":"3","collapse":false},{"id":"5fd48413.4ae97c","type":"ui_group","z":"","name":"opc/BinWeight.1","tab":"12a0c83e.a3db18","disp":true,"width":"3","collapse":false},{"id":"dfc56c74.6d91c","type":"ui_group","z":"","name":"opc/BinWeight.2","tab":"12a0c83e.a3db18","disp":true,"width":"6","collapse":false},{"id":"cf03043.12b7ef8","type":"ui_group","z":"","name":"opc/BinWeight.3","tab":"12a0c83e.a3db18","disp":true,"width":"6","collapse":false},{"id":"c29eff5c.26877","type":"ui_group","z":"","name":"opc/BinWeight.4","tab":"12a0c83e.a3db18","disp":true,"width":"3","collapse":false},{"id":"3a61fbd.8684304","type":"ui_group","z":"","name":"opc/BinWeight.5","tab":"12a0c83e.a3db18","disp":true,"width":"3","collapse":false},{"id":"9a18bf37.3af7b","type":"ui_group","z":"","name":"opc/BinWeight.6","tab":"12a0c83e.a3db18","disp":true,"width":"3","collapse":false},{"id":"94c6d794.be6978","type":"ui_group","z":"","name":"opc/BinWeight.7","tab":"12a0c83e.a3db18","disp":true,"width":"3","collapse":false},{"id":"959e86e3.d69238","type":"ui_group","z":"","name":"opc/BinWeight.8","tab":"12a0c83e.a3db18","disp":true,"width":"6","collapse":false},{"id":"9238b308.ff996","type":"ui_group","z":"","name":"opc/BinWeight.9","tab":"12a0c83e.a3db18","disp":true,"width":"6","collapse":false},{"id":"c25bee34.0ea3","type":"ui_group","z":"","name":"opc/BinWeight.10","tab":"12a0c83e.a3db18","disp":true,"width":"6","collapse":false},{"id":"e93e934e.e7b0c","type":"ui_group","z":"","name":"opc/BinWeight.11","tab":"12a0c83e.a3db18","disp":true,"width":"3","collapse":false},{"id":"cc72ceb5.8af27","type":"ui_group","z":"","name":"opc/BinWeight.12","tab":"12a0c83e.a3db18","disp":true,"width":"3","collapse":false},{"id":"9268564.98096a8","type":"ui_group","z":"","name":"opc/BinWeight.13","tab":"12a0c83e.a3db18","disp":true,"width":"3","collapse":false},{"id":"a0e0f5bb.88ba18","type":"ui_group","z":"","name":"opc/BinWeight.14","tab":"12a0c83e.a3db18","disp":true,"width":"3","collapse":false},{"id":"b08c16c5.b87018","type":"ui_group","z":"","name":"opc/BinWeight.15","tab":"12a0c83e.a3db18","disp":true,"width":"3","collapse":false},{"id":"9a56c0ec.2ef37","type":"ui_group","z":"","name":"opc/BinWeight.16","tab":"12a0c83e.a3db18","disp":true,"width":"3","collapse":false},{"id":"5c5b6fd4.16ef5","type":"ui_group","z":"","name":"opc/BinWeight.17","tab":"12a0c83e.a3db18","disp":true,"width":"6","collapse":false},{"id":"b0a2d4f0.578698","type":"ui_group","z":"","name":"opc/BinWeight.18","tab":"12a0c83e.a3db18","disp":true,"width":"3","collapse":false},{"id":"dbacddaa.e0591","type":"mqtt in","z":"cef65a87.85b978","name":"","topic":"#","qos":"2","broker":"a46a9e73.5d3d9","x":90,"y":120,"wires":[["8b825367.a4337","edcc6d77.ad5df","f7fbac76.49ff6","bee883a7.6521"]]},{"id":"8b825367.a4337","type":"debug","z":"cef65a87.85b978","name":"MQTT # RAW","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":700,"y":100,"wires":[]},{"id":"edcc6d77.ad5df","type":"function","z":"cef65a87.85b978","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\n\ntext.push(msg);\nif (text.length > 20){\n    text.shift();\n    text.length = 20;\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":410,"y":200,"wires":[["1d165e7f.0128d2","169421ae.d0451e"]]},{"id":"1d165e7f.0128d2","type":"debug","z":"cef65a87.85b978","name":"mqtt array","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":690,"y":180,"wires":[]},{"id":"169421ae.d0451e","type":"ui_template","z":"cef65a87.85b978","group":"979a1d8f.700ab","name":"MQTT Output","order":1,"width":"12","height":"6","format":"<ul>\n <li ng-repeat=\"x in msg.payload\">\n <font color=\"red\">{{x.topic}}</font>\n    <ul>\n        <li>{{x.payload}}</li>\n    </ul>\n </li>\n</ul>","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":440,"y":160,"wires":[[]]},{"id":"c4aab372.992b3","type":"mqtt out","z":"cef65a87.85b978","name":"","topic":"","qos":"2","retain":"","broker":"a46a9e73.5d3d9","x":210,"y":600,"wires":[]},{"id":"62c40df7.b6af94","type":"ui_text_input","z":"cef65a87.85b978","name":"Message","label":"Message","group":"979a1d8f.700ab","order":3,"width":"","height":"","passthru":true,"mode":"text","delay":"300","topic":"message","x":100,"y":220,"wires":[["201f1755.25ff38"]]},{"id":"eda6ec9a.0e7fc","type":"ui_button","z":"cef65a87.85b978","name":"Submit","group":"979a1d8f.700ab","order":4,"width":"2","height":"1","passthru":false,"label":"SUBMIT","color":"black","bgcolor":"","icon":"fa-arrow-circle-o-up","payload":"submit","payloadType":"str","topic":"submit","x":80,"y":400,"wires":[["201f1755.25ff38"]]},{"id":"201f1755.25ff38","type":"function","z":"cef65a87.85b978","name":"Store and Submit","func":"context.msg = context.msg || {};\n\nswitch (msg.topic){\n    case 'message':\n        context.msg.payload = msg.payload;\n        break;\n    case 'topic':\n        context.msg.topic = msg.payload;\n        break;\n    case 'submit':\n        if(context.msg.topic){\n            return context.msg;\n        }else{\n            context.msg.topic=\"#\"; // set default topic\n            return context.msg;\n        }\n}","outputs":"1","noerr":0,"x":190,"y":540,"wires":[["c4aab372.992b3","6e7ce78f.756cf8"]]},{"id":"6e7ce78f.756cf8","type":"debug","z":"cef65a87.85b978","name":"MQTT Monitor","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":180,"y":660,"wires":[]},{"id":"3af5e431.4d6eac","type":"ui_text_input","z":"cef65a87.85b978","name":"Topic","label":"Topic/","group":"979a1d8f.700ab","order":2,"width":"","height":"","passthru":true,"mode":"text","delay":300,"topic":"topic","x":90,"y":180,"wires":[["201f1755.25ff38"]]},{"id":"182ca21d.98cf5e","type":"ui_button","z":"cef65a87.85b978","name":"Clear","group":"979a1d8f.700ab","order":0,"width":"2","height":"1","passthru":false,"label":"CLEAR","color":"black","bgcolor":"","icon":"fa-trash","payload":"","payloadType":"str","topic":"","x":50,"y":320,"wires":[["3af5e431.4d6eac","62c40df7.b6af94"]]},{"id":"e0234605.ea8d88","type":"comment","z":"cef65a87.85b978","name":"MQTT Console","info":"This flow demonstrates how to view MQTT data\n\nIt is also a nice demonstration how you can\nuse an array to shift data into the UI template\n\n\nUI Viewable:\nhttp://localhost:1880/ui\n\nWritten by\nCory Guynn\n2016\nwww.InternetOfLEG0.com","x":120,"y":60,"wires":[]},{"id":"f7fbac76.49ff6","type":"switch","z":"cef65a87.85b978","name":"判断TOPIC","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"out_stock_1f","vt":"str"},{"t":"eq","v":"weight_user_3f","vt":"str"},{"t":"eq","v":"weight_tongka_3f","vt":"str"},{"t":"eq","v":"weight_material_3f","vt":"str"},{"t":"eq","v":"feed_tongka_3f","vt":"str"},{"t":"eq","v":"feed_material_6f","vt":"str"},{"t":"eq","v":"feed_user_6f","vt":"str"},{"t":"eq","v":"feed_end_weight_3f","vt":"str"},{"t":"eq","v":"feed_line12","vt":"str"},{"t":"eq","v":"feed_line21","vt":"str"},{"t":"eq","v":"print_12Small_2_12Big","vt":"str"},{"t":"eq","v":"control_light","vt":"str"},{"t":"eq","v":"feed_user_3f","vt":"str"}],"checkall":"true","repair":false,"outputs":13,"x":270,"y":340,"wires":[["2c03da22.cf0a16","b800339a.c5c3b"],["3cb8e5e4.7e21ca"],["1e82d237.67d46e"],["aac937d1.d3ae38"],["702ef521.fa80cc"],["3fae2b5c.2c8764"],["9d53bb20.ef4408"],["5663f341.2a117c"],["3e18d4ee.1b982c"],["7f6db1e9.b01cb"],["5286c1d7.9e658"],["60d82aeb.9d2a04"],["8221a405.505958"]]},{"id":"2c03da22.cf0a16","type":"debug","z":"cef65a87.85b978","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":570,"y":240,"wires":[]},{"id":"b800339a.c5c3b","type":"function","z":"cef65a87.85b978","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text  = [];\n    //text.length = 20;\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":590,"y":300,"wires":[["b3ddabd8.034bb8"]]},{"id":"b3ddabd8.034bb8","type":"ui_template","z":"cef65a87.85b978","group":"d4667873.23c208","name":"1楼出库","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;margin-bottom:3px\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        <b>{{x.payload.epc}}</b>\n        <br />\n        antPort:{{x.payload.antPort}}\n         \n    </button>\n   \n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":780,"y":280,"wires":[[]]},{"id":"67413c8.3367fc4","type":"ui_template","z":"cef65a87.85b978","group":"ab688ef4.cb80f","name":"3楼称重人员刷卡","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n    \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        antPort:{{x.payload[\"antPort\"]}}\n        <br />\n         {{x.payload.epc}}\n         \n    </button>\n \n    <hr />\n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":810,"y":360,"wires":[[]]},{"id":"1e82d237.67d46e","type":"function","z":"cef65a87.85b978","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n  text = [];\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":590,"y":420,"wires":[["1c969301.91c23d"]]},{"id":"1c969301.91c23d","type":"ui_template","z":"cef65a87.85b978","group":"9d9856fa.608a18","name":"3楼桶卡称重","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        antPort:{{x.payload.antPort}}\n        <br />\n         {{x.payload.epc}}\n    </button>\n   \n     \n    <hr />\n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":790,"y":420,"wires":[[]]},{"id":"b26d5d46.22b4f","type":"ui_template","z":"cef65a87.85b978","group":"7f2eeac8.acfd14","name":"3楼投料人员","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        antPort:{{x.payload.antPort}}\n        <br />\n         {{x.payload.epc}}\n    </button>\n   \n     \n    <hr />\n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":770,"y":540,"wires":[[]]},{"id":"ad2cde8d.a34f2","type":"ui_template","z":"cef65a87.85b978","group":"16260fcb.bab21","name":"6楼投料","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        antPort:{{x.payload.antPort}}\n        <br />\n         {{x.payload.epc}}\n    </button>\n   \n     \n    <hr />\n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":760,"y":600,"wires":[[]]},{"id":"d4429e1e.7ab0f","type":"ui_template","z":"cef65a87.85b978","group":"a4c8b718.f0bdd8","name":"6楼人员","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        antPort:{{x.payload.antPort}}\n        <br />\n         {{x.payload.epc}}\n    </button>\n   \n     \n    <hr />\n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":760,"y":660,"wires":[[]]},{"id":"c82d37e2.dd0528","type":"ui_template","z":"cef65a87.85b978","group":"500b2237.26a34c","name":"3楼物料称重","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        antPort:{{x.payload.antPort}}\n        <br />\n         {{x.payload.epc}}\n    </button>\n   \n     \n    <hr />\n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":770,"y":480,"wires":[[]]},{"id":"aac937d1.d3ae38","type":"function","z":"cef65a87.85b978","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text = [];\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":590,"y":460,"wires":[["c82d37e2.dd0528"]]},{"id":"8221a405.505958","type":"function","z":"cef65a87.85b978","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text = [];\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":590,"y":520,"wires":[["b26d5d46.22b4f"]]},{"id":"3fae2b5c.2c8764","type":"function","z":"cef65a87.85b978","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n   text = [];\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":590,"y":580,"wires":[["ad2cde8d.a34f2"]]},{"id":"9d53bb20.ef4408","type":"function","z":"cef65a87.85b978","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text = []\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":590,"y":620,"wires":[["d4429e1e.7ab0f"]]},{"id":"5f4ae0ad.a5f24","type":"http request","z":"cef65a87.85b978","name":"","method":"POST","ret":"obj","url":"http://localhost:8088/app/rest/v2/services/sct_MqttService/create","tls":"","x":520,"y":40,"wires":[[]]},{"id":"bee883a7.6521","type":"function","z":"cef65a87.85b978","name":"","func":"var a = {};\na.payload = {\"params\": {\"topic\":msg.topic, \"message\": msg.payload}}\n\nreturn a;\n","outputs":1,"noerr":0,"x":310,"y":60,"wires":[["5f4ae0ad.a5f24"]]},{"id":"25eeef9e.347b8","type":"ui_template","z":"cef65a87.85b978","group":"9320f9eb.c08638","name":"11线称重完成","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;\">\n        <font color=\"yellow\">{{x.now}}</font>\n        \n         {{x.payload}}\n    </button>\n   \n     \n    <hr />\n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":780,"y":720,"wires":[[]]},{"id":"5663f341.2a117c","type":"function","z":"cef65a87.85b978","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\n// msg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text = [];\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":550,"y":700,"wires":[["25eeef9e.347b8"]]},{"id":"c947a2a.ad9b76","type":"ui_template","z":"cef65a87.85b978","group":"8a90c089.94cb1","name":"12线称重完成：feed_line12","order":1,"width":"0","height":"0","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;\">\n        <font color=\"yellow\">{{x.now}}</font>\n        \n         {{x.payload}}\n    </button>\n   \n     \n    <hr />\n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":780,"y":800,"wires":[[]]},{"id":"3e18d4ee.1b982c","type":"function","z":"cef65a87.85b978","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\n// msg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text = [];\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":510,"y":780,"wires":[["c947a2a.ad9b76"]]},{"id":"7f6db1e9.b01cb","type":"function","z":"cef65a87.85b978","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text = [];\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":530,"y":880,"wires":[["b7cc6d61.a10d1"]]},{"id":"b7cc6d61.a10d1","type":"ui_template","z":"cef65a87.85b978","group":"8a90c089.94cb1","name":"21线称重完成：feed_line21","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        antPort:{{x.payload.antPort}}\n        <br />\n         {{x.payload.epc}}\n    </button>\n   \n     \n    <hr />\n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":800,"y":900,"wires":[[]]},{"id":"5286c1d7.9e658","type":"function","z":"cef65a87.85b978","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n   text = [];\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":530,"y":980,"wires":[["73dade59.888ea"]]},{"id":"73dade59.888ea","type":"ui_template","z":"cef65a87.85b978","group":"c2014fbf.2098c","name":"小料打印：print_12Small_2_12Big","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        antPort:{{x.payload.antPort}}\n        <br />\n         {{x.payload.epc}}\n    </button>\n   \n     \n    <hr />\n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":820,"y":1000,"wires":[[]]},{"id":"60d82aeb.9d2a04","type":"function","z":"cef65a87.85b978","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\ntext = [];\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":530,"y":1060,"wires":[["7af679a7.4a37f8"]]},{"id":"7af679a7.4a37f8","type":"ui_template","z":"cef65a87.85b978","group":"707b3dfa.025754","name":"控制LED灯：control_light","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;\">\n        <font color=\"yellow\">{{x.now}}</font>\n        \n         {{x.payload.pass}}\n    </button>\n   \n     \n    <hr />\n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":790,"y":1080,"wires":[[]]},{"id":"702ef521.fa80cc","type":"function","z":"cef65a87.85b978","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text = [];\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":510,"y":1160,"wires":[["2a018344.ca285c"]]},{"id":"2a018344.ca285c","type":"ui_template","z":"cef65a87.85b978","group":"9e238497.349458","name":"3楼投料桶卡","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        antPort:{{x.payload.antPort}}\n        <br />\n         {{x.payload.epc}}\n    </button>\n   \n     \n    <hr />\n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":730,"y":1180,"wires":[[]]},{"id":"aab49750.2e2238","type":"http in","z":"c346649a.4988d8","name":"test1","url":"/test1","method":"get","upload":false,"swaggerDoc":"","x":120,"y":200,"wires":[["d4e18207.8bb13"]]},{"id":"d4e18207.8bb13","type":"template","z":"c346649a.4988d8","name":"111","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"This is the payload: {{payload}} !","output":"str","x":290,"y":220,"wires":[["2debef97.951f1"]]},{"id":"2debef97.951f1","type":"http response","z":"c346649a.4988d8","name":"","statusCode":"","headers":{},"x":480,"y":220,"wires":[]},{"id":"fe5f8187.c1c95","type":"uibuilder","z":"c346649a.4988d8","name":"111","topic":"333","url":"uibuilder","fwdInMessages":true,"allowScripts":true,"allowStyles":true,"debugFE":true,"copyIndex":true,"x":140,"y":320,"wires":[[],[]]},{"id":"380b29fa.ff3926","type":"inject","z":"c346649a.4988d8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":170,"y":440,"wires":[["c8ad99f5.700118"]]},{"id":"c8ad99f5.700118","type":"link out","z":"c346649a.4988d8","name":"TEST","links":["42cce675.4d1888","1511580.9ad71a8"],"x":295,"y":440,"wires":[]},{"id":"77b18454.5e10fc","type":"debug","z":"e4fcb196.eb4fb","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":650,"y":280,"wires":[]},{"id":"1511580.9ad71a8","type":"link in","z":"e4fcb196.eb4fb","name":"","links":["c8ad99f5.700118"],"x":335,"y":280,"wires":[["3ee0a0aa.93ce2"]]},{"id":"5d0a3938.a068f8","type":"join","z":"e4fcb196.eb4fb","name":"","mode":"auto","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","accumulate":"false","timeout":"","count":"","reduceRight":false,"x":180,"y":400,"wires":[[]]},{"id":"cdafd901.944138","type":"range","z":"e4fcb196.eb4fb","minin":"","maxin":"","minout":"","maxout":"","action":"scale","round":false,"property":"payload","name":"","x":160,"y":340,"wires":[[]]},{"id":"4f3692ce.11108c","type":"tcp request","z":"e4fcb196.eb4fb","server":"","port":"","out":"time","splitc":"0","name":"","x":160,"y":240,"wires":[[]]},{"id":"fa3d97d.ef41268","type":"change","z":"e4fcb196.eb4fb","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":140,"y":160,"wires":[[]]},{"id":"1935a26c.5e71ce","type":"base64","z":"e4fcb196.eb4fb","name":"","action":"","property":"payload","x":200,"y":500,"wires":[[]]},{"id":"5da6d38.8afc02c","type":"watch","z":"e4fcb196.eb4fb","name":"","files":"","recursive":"","x":300,"y":440,"wires":[[]]},{"id":"9d97b4b1.f83e68","type":"feedparse","z":"e4fcb196.eb4fb","name":"","url":"","interval":15,"x":360,"y":500,"wires":[["7cc784e9.adfc9c"]]},{"id":"3ee0a0aa.93ce2","type":"sentiment","z":"e4fcb196.eb4fb","name":"","property":"payload","x":440,"y":280,"wires":[["77b18454.5e10fc"]]},{"id":"7cc784e9.adfc9c","type":"e-mail","z":"e4fcb196.eb4fb","server":"smtp.gmail.com","port":"465","secure":true,"name":"","dname":"","x":540,"y":420,"wires":[]},{"id":"21f37fa5.5119b","type":"inject","z":"c346649a.4988d8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":420,"y":360,"wires":[["e67284ed.1669a8"]]},{"id":"e67284ed.1669a8","type":"batch","z":"c346649a.4988d8","name":"","mode":"interval","count":10,"overlap":0,"interval":10,"allowEmptySequence":false,"topics":[],"x":550,"y":360,"wires":[["1abfb3ea.a8bd4c"]]},{"id":"1abfb3ea.a8bd4c","type":"debug","z":"c346649a.4988d8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":700,"y":360,"wires":[]},{"id":"fb347428.29ff08","type":"http request","z":"c346649a.4988d8","name":"","method":"GET","ret":"obj","url":"http://localhost:8088/app/rest/v2/services/sct_MqttService/query?params=topic1;topic2","tls":"","x":340,"y":560,"wires":[["6c992dc.99dbcd4"]]},{"id":"6c992dc.99dbcd4","type":"debug","z":"c346649a.4988d8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":540,"y":540,"wires":[]},{"id":"a8389a52.b1c7c8","type":"http request","z":"c346649a.4988d8","name":"获取APP列表","method":"GET","ret":"obj","url":"http://localhost:8088/app/rest/v2/services/sct_VtAppsService/query","tls":"","x":410,"y":700,"wires":[["6874471b.394658"]]},{"id":"6874471b.394658","type":"debug","z":"c346649a.4988d8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":580,"y":680,"wires":[]},{"id":"1224e166.613e8f","type":"inject","z":"979db3eb.389ac","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":110,"y":140,"wires":[["c9ca20bf.73086"]]},{"id":"ed5d5761.53a7e8","type":"http request","z":"979db3eb.389ac","name":"","method":"POST","ret":"obj","url":"http://localhost:8088/app/rest/v2/services/sct_VtBuhlerBinService/updateBinCoverStatus","tls":"","x":440,"y":180,"wires":[["fd845691.fd0b78"]]},{"id":"fd845691.fd0b78","type":"debug","z":"979db3eb.389ac","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":610,"y":180,"wires":[]},{"id":"c9ca20bf.73086","type":"function","z":"979db3eb.389ac","name":"","func":"var a = {};\na.payload =  {\"status\":msg.payload, \"canNo\": '13#'}\n\nreturn a;\n","outputs":1,"noerr":0,"x":330,"y":300,"wires":[["ed5d5761.53a7e8","891726c6.70a588"]]},{"id":"8730c215.935a1","type":"mqtt in","z":"979db3eb.389ac","name":"","topic":"buhler_bin_open","qos":"2","broker":"a46a9e73.5d3d9","x":120,"y":300,"wires":[["c9ca20bf.73086"]]},{"id":"891726c6.70a588","type":"debug","z":"979db3eb.389ac","name":"11111","active":true,"tosidebar":true,"console":true,"tostatus":true,"complete":"payload","x":600,"y":300,"wires":[]},{"id":"78d9c9dc.74d6f8","type":"http request","z":"c346649a.4988d8","name":"获取APP列表","method":"GET","ret":"obj","url":"http://localhost:8088/app/rest/v2/services/sct_VtAppsService/query","tls":"","x":370,"y":820,"wires":[["daa369ad.4e77e8"]]},{"id":"daa369ad.4e77e8","type":"debug","z":"c346649a.4988d8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":540,"y":800,"wires":[]},{"id":"e8f1e992.e4b6e8","type":"http request","z":"c346649a.4988d8","name":"获取APP列表","method":"GET","ret":"obj","url":"http://localhost:8088/app/rest/v2/services/sct_VtAppsService/query","tls":"","x":350,"y":980,"wires":[["b11088a3.b03d68"]]},{"id":"b11088a3.b03d68","type":"debug","z":"c346649a.4988d8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":520,"y":960,"wires":[]},{"id":"bf9d822f.b8129","type":"http request","z":"c346649a.4988d8","name":"获取APP列表","method":"GET","ret":"obj","url":"http://localhost:8088/app/rest/v2/services/sct_VtClientDeviceInformationService/query","tls":"","x":290,"y":1180,"wires":[["c092b0a5.a0789"]]},{"id":"c092b0a5.a0789","type":"debug","z":"c346649a.4988d8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":460,"y":1160,"wires":[]},{"id":"fc1084a4.997a98","type":"mqtt in","z":"3cb9951c.b40e9a","name":"OPC变量","topic":"opc/#","qos":"2","broker":"a46a9e73.5d3d9","x":120,"y":200,"wires":[["e6fb258a.c57cc8","b7d0f20b.60d4b"]]},{"id":"11b4228c.a55a5d","type":"debug","z":"3cb9951c.b40e9a","name":"2222","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":710,"y":220,"wires":[]},{"id":"31ae493f.6ebc56","type":"http request","z":"3cb9951c.b40e9a","name":"","method":"POST","ret":"txt","url":"http://localhost:8088/app/rest/v2/services/sct_OpcService/update","tls":"","x":510,"y":280,"wires":[["11b4228c.a55a5d"]]},{"id":"e6fb258a.c57cc8","type":"function","z":"3cb9951c.b40e9a","name":"OPC数据处理","func":"var a = {};\na.payload = {\"params\": {\"topic\":msg.topic, \"message\": msg.payload}}\n\nreturn a;\n","outputs":1,"noerr":0,"x":300,"y":260,"wires":[["31ae493f.6ebc56"]]},{"id":"2d8e3aab.a61aa6","type":"http request","z":"c346649a.4988d8","name":"","method":"GET","ret":"txt","url":"http://localhost:8088/app/rest/v2/services/sct_OpcService/readOpc?itemId={{{payload}}}","tls":"","x":460,"y":1380,"wires":[["3699d94.11fb726"]]},{"id":"3699d94.11fb726","type":"debug","z":"c346649a.4988d8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":590,"y":1300,"wires":[]},{"id":"f0a2fd2d.f3629","type":"function","z":"c346649a.4988d8","name":"readOpc-itemId","func":"msg.payload = \"test.test\"\n\nreturn msg;","outputs":1,"noerr":0,"x":300,"y":1320,"wires":[["2d8e3aab.a61aa6"]]},{"id":"8d3fd8c3.9b2978","type":"comment","z":"c346649a.4988d8","name":"读OPC","info":"","x":130,"y":1280,"wires":[]},{"id":"cb4f9da7.0afa","type":"http request","z":"c346649a.4988d8","name":"","method":"POST","ret":"txt","url":"http://localhost:8088/app/rest/v2/services/sct_OpcService/writeOpc","tls":"","x":540,"y":1540,"wires":[["55849cf6.1d6f24"]]},{"id":"55849cf6.1d6f24","type":"debug","z":"c346649a.4988d8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":650,"y":1480,"wires":[]},{"id":"ad102037.a8905","type":"function","z":"c346649a.4988d8","name":"readOpc-itemId","func":"msg.payload = {\"itemId\":\"test.test\", \"value\": \"1\"}\n\nreturn msg;","outputs":1,"noerr":0,"x":340,"y":1540,"wires":[["cb4f9da7.0afa"]]},{"id":"72df5482.98d4ec","type":"comment","z":"c346649a.4988d8","name":"写OPC","info":"","x":130,"y":1440,"wires":[]},{"id":"e6a197b2.efca78","type":"ui_template","z":"c346649a.4988d8","group":"979a1d8f.700ab","name":"","order":0,"width":0,"height":0,"format":"<svg>\n<circle cx=\"10\" cy=\"10\" r=\"10\" style=\"stroke: none; fill: {{msg.payload}};\"/>\n</svg>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":1160,"y":1500,"wires":[[]]},{"id":"6a672c0b.0a4f54","type":"trigger","z":"c346649a.4988d8","op1":"lime","op2":"black","op1type":"str","op2type":"str","duration":"400","extend":false,"units":"ms","reset":"","bytopic":"all","name":"","x":910,"y":1500,"wires":[["e6a197b2.efca78"]]},{"id":"56c6ef5b.68492","type":"function","z":"45b6e581.2ef7ec","name":"Binlm.1料仓中装入的物料名称，可变动","func":"msg.payload = global.get(\"opc\")[\"Binlm.1\"] || \"\";\n\nreturn msg;","outputs":1,"noerr":0,"x":350,"y":40,"wires":[["bb02073c.d42ad8"]]},{"id":"ceba5f8d.c2335","type":"function","z":"45b6e581.2ef7ec","name":"Binlm.10 料仓中装入的物料名称，可变动","func":"// msg.payload = \"Binlm.10\"\nmsg.payload = global.get(\"opc\")[\"Binlm.10\"] || \"\";\n\nreturn msg;","outputs":1,"noerr":0,"x":335,"y":100,"wires":[["55608962.bec7d8"]]},{"id":"5e7008b1.5b6308","type":"function","z":"45b6e581.2ef7ec","name":"Binlm.11 料仓中装入的物料名称，可变动","func":"// msg.payload = \"Binlm.11\"\nmsg.payload = global.get(\"opc\")[\"Binlm.11\"] || \"\";\n\nreturn msg;","outputs":1,"noerr":0,"x":335,"y":160,"wires":[["1217b4be.e0475b"]]},{"id":"cb56d405.d59f68","type":"function","z":"45b6e581.2ef7ec","name":"Binlm.12 料仓中装入的物料名称，可变动","func":"msg.payload = global.get(\"opc\")[\"Binlm.12\"] || \"\";\n\nreturn msg;","outputs":1,"noerr":0,"x":335,"y":220,"wires":[["884b5fb1.2f105"]]},{"id":"669c6d72.936444","type":"function","z":"45b6e581.2ef7ec","name":"Binlm.13 料仓中装入的物料名称，可变动","func":"msg.payload = \"Binlm.13\"\nmsg.payload = global.get(\"opc\")[\"Binlm.13\"] || \"\";\n\nreturn msg;","outputs":1,"noerr":0,"x":335,"y":280,"wires":[["b167f593.c2f478"]]},{"id":"6d008e3f.eb8df","type":"function","z":"45b6e581.2ef7ec","name":"Binlm.14 料仓中装入的物料名称，可变动","func":"msg.payload = \"Binlm.14\"\nmsg.payload = global.get(\"opc\")[\"Binlm.14\"] || \"\";\n\nreturn msg;","outputs":1,"noerr":0,"x":340,"y":340,"wires":[["cf86cb.29955938"]]},{"id":"afa3f90d.d16b08","type":"function","z":"45b6e581.2ef7ec","name":"Binlm.15 料仓中装入的物料名称，可变动","func":"msg.payload = \"Binlm.15\"\nmsg.payload = global.get(\"opc\")[\"Binlm.15\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":335,"y":400,"wires":[["50f0e080.b48b6"]]},{"id":"f9757a9b.9bb558","type":"function","z":"45b6e581.2ef7ec","name":"Binlm.16 料仓中装入的物料名称，可变动","func":"msg.payload = \"Binlm.16\"\nmsg.payload = global.get(\"opc\")[\"Binlm.16\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":335,"y":440,"wires":[["a8e77fb.548518"]]},{"id":"a4e74ac8.30efb8","type":"function","z":"45b6e581.2ef7ec","name":"Binlm.17 料仓中装入的物料名称，可变动","func":"msg.payload = \"Binlm.17\"\nmsg.payload = global.get(\"opc\")[\"Binlm.17\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":335,"y":500,"wires":[["887e3747.4ff348"]]},{"id":"227ece26.7f2dd2","type":"function","z":"45b6e581.2ef7ec","name":"Binlm.18 料仓中装入的物料名称，可变动","func":"msg.payload = \"Binlm.18\"\nmsg.payload = global.get(\"opc\")[\"Binlm.18\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":335,"y":560,"wires":[["7412395c.92df18"]]},{"id":"523577cf.69fa58","type":"function","z":"45b6e581.2ef7ec","name":"Binlm.2 料仓中装入的物料名称，可变动","func":"msg.payload = \"Binlm.2\"\nmsg.payload = global.get(\"opc\")[\"Binlm.2\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":335,"y":640,"wires":[["2fe773d3.be1d5c"]]},{"id":"fb5cb659.ec52a8","type":"function","z":"45b6e581.2ef7ec","name":"Binlm.3 料仓中装入的物料名称，可变动","func":"msg.payload = \"Binlm.3\"\nmsg.payload = global.get(\"opc\")[\"Binlm.3\"] || \"\";\n\nreturn msg;","outputs":1,"noerr":0,"x":335,"y":700,"wires":[["7cba514c.f589a"]]},{"id":"604f1aae.3ad544","type":"function","z":"45b6e581.2ef7ec","name":"Binlm.4 料仓中装入的物料名称，可变动","func":"msg.payload = \"Binlm.4\"\nmsg.payload = global.get(\"opc\")[\"Binlm.4\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":335,"y":760,"wires":[["a45ee217.af6fc"]]},{"id":"a02d8302.612dc","type":"function","z":"45b6e581.2ef7ec","name":"Binlm.5 料仓中装入的物料名称，可变动","func":"msg.payload = \"Binlm.5\"\nmsg.payload = global.get(\"opc\")[\"Binlm.5\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":355,"y":820,"wires":[["a6d3b300.e065d"]]},{"id":"2917154e.4b361a","type":"function","z":"45b6e581.2ef7ec","name":"Binlm.6 料仓中装入的物料名称，可变动","func":"msg.payload = \"Binlm.6\"\nmsg.payload = global.get(\"opc\")[\"Binlm.6\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":355,"y":880,"wires":[["bac26f8d.a654d"]]},{"id":"796df67e.261fe8","type":"function","z":"45b6e581.2ef7ec","name":"Binlm.7 料仓中装入的物料名称，可变动","func":"msg.payload = \"Binlm.7\"\nmsg.payload = global.get(\"opc\")[\"Binlm.7\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":355,"y":940,"wires":[["4ae6c808.8f5d98"]]},{"id":"8d3cb296.8a73c","type":"function","z":"45b6e581.2ef7ec","name":"Binlm.8 料仓中装入的物料名称，可变动","func":"msg.payload = \"Binlm.8\"\nmsg.payload = global.get(\"opc\")[\"Binlm.8\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":355,"y":1000,"wires":[["d899feaf.39d8b"]]},{"id":"7a28d77c.18d518","type":"function","z":"45b6e581.2ef7ec","name":"Binlm.9 料仓中装入的物料名称，可变动","func":"msg.payload = \"Binlm.9\"\nmsg.payload = global.get(\"opc\")[\"Binlm.9\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":360,"y":1060,"wires":[["67c7b776.82e258"]]},{"id":"a3254b9f.141498","type":"function","z":"45b6e581.2ef7ec","name":"LM_C 料仓中原料的质量","func":"msg.payload = \"LM_C\"\nmsg.payload = global.get(\"opc\")[\"LM_C\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":290,"y":1180,"wires":[["e00ab030.8f005"]]},{"id":"9bc6c00d.4ea22","type":"function","z":"45b6e581.2ef7ec","name":"BinWeight.1 料仓中原料的质量","func":"msg.payload = \"BinWeight.1\"\nmsg.payload = global.get(\"opc\")[\"BinWeight.1\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":1260,"wires":[["cb09fa2a.6d39f8"]]},{"id":"9054c464.9f6e18","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"onceDelay":0.1,"x":100,"y":340,"wires":[["6d008e3f.eb8df"]]},{"id":"cf86cb.29955938","type":"ui_text","z":"45b6e581.2ef7ec","group":"9bc6b7b7.a8c4b8","order":0,"width":"2","height":"2","name":"14#","label":"原料:","format":"{{msg.payload}}","layout":"row-left","x":770,"y":340,"wires":[]},{"id":"b167f593.c2f478","type":"ui_text","z":"45b6e581.2ef7ec","group":"4dd3ab69.3c4474","order":0,"width":"2","height":"2","name":"13#","label":"原料:","format":"{{msg.payload}}","layout":"row-left","x":785,"y":240,"wires":[]},{"id":"884b5fb1.2f105","type":"ui_text","z":"45b6e581.2ef7ec","group":"b0f06a0c.b65398","order":0,"width":"2","height":"2","name":"","label":"原料:","format":"{{msg.payload}}","layout":"row-left","x":785,"y":180,"wires":[]},{"id":"1217b4be.e0475b","type":"ui_text","z":"45b6e581.2ef7ec","group":"8cfbc525.344368","order":0,"width":"2","height":"2","name":"","label":"原料","format":"{{msg.payload}}","layout":"row-left","x":765,"y":140,"wires":[]},{"id":"55608962.bec7d8","type":"ui_text","z":"45b6e581.2ef7ec","group":"76f87456.6e983c","order":0,"width":"2","height":"2","name":"","label":"原料","format":"{{msg.payload}}","layout":"row-left","x":765,"y":80,"wires":[]},{"id":"bb02073c.d42ad8","type":"ui_text","z":"45b6e581.2ef7ec","group":"d78e8a4d.fbd358","order":0,"width":"2","height":"2","name":"","label":"原料","format":"{{msg.payload}}","layout":"row-left","x":745,"y":40,"wires":[]},{"id":"50f0e080.b48b6","type":"ui_text","z":"45b6e581.2ef7ec","group":"560b4b29.e57b94","order":0,"width":"2","height":"2","name":"15#","label":"原料:","format":"{{msg.payload}}","layout":"row-left","x":785,"y":400,"wires":[],"icon":"node-red-dashboard/ui_button.png"},{"id":"a8e77fb.548518","type":"ui_text","z":"45b6e581.2ef7ec","group":"b4427ecd.23025","order":0,"width":"2","height":"2","name":"","label":"原料:","format":"{{msg.payload}}","layout":"row-left","x":805,"y":440,"wires":[]},{"id":"887e3747.4ff348","type":"ui_text","z":"45b6e581.2ef7ec","group":"637f7469.fe97bc","order":0,"width":"2","height":"2","name":"","label":"原料:","format":"{{msg.payload}}","layout":"row-left","x":765,"y":500,"wires":[]},{"id":"7412395c.92df18","type":"ui_text","z":"45b6e581.2ef7ec","group":"5fee8970.6f7818","order":0,"width":"2","height":"2","name":"","label":"原料:","format":"{{msg.payload}}","layout":"row-left","x":765,"y":560,"wires":[]},{"id":"2fe773d3.be1d5c","type":"ui_text","z":"45b6e581.2ef7ec","group":"8f68ad76.433db","order":0,"width":"2","height":"2","name":"","label":"原料:","format":"{{msg.payload}}","layout":"row-left","x":765,"y":640,"wires":[]},{"id":"7cba514c.f589a","type":"ui_text","z":"45b6e581.2ef7ec","group":"b929c5c2.2d89b8","order":0,"width":"2","height":"2","name":"","label":"原料:","format":"{{msg.payload}}","layout":"row-left","x":765,"y":700,"wires":[]},{"id":"a45ee217.af6fc","type":"ui_text","z":"45b6e581.2ef7ec","group":"adc94a58.8104e8","order":0,"width":"2","height":"2","name":"","label":"原料:","format":"{{msg.payload}}","layout":"row-left","x":765,"y":760,"wires":[]},{"id":"a6d3b300.e065d","type":"ui_text","z":"45b6e581.2ef7ec","group":"319f7754.61dbb8","order":0,"width":"2","height":"2","name":"","label":"原料:","format":"{{msg.payload}}","layout":"row-left","x":785,"y":820,"wires":[]},{"id":"bac26f8d.a654d","type":"ui_text","z":"45b6e581.2ef7ec","group":"c2e6e0da.98a8a","order":0,"width":"2","height":"2","name":"","label":"原料:","format":"{{msg.payload}}","layout":"row-left","x":785,"y":880,"wires":[]},{"id":"4ae6c808.8f5d98","type":"ui_text","z":"45b6e581.2ef7ec","group":"b61c97b9.9ba358","order":0,"width":"2","height":"2","name":"","label":"原料:","format":"{{msg.payload}}","layout":"row-left","x":765,"y":940,"wires":[]},{"id":"d899feaf.39d8b","type":"ui_text","z":"45b6e581.2ef7ec","group":"c2d01502.8d51c8","order":0,"width":"2","height":"2","name":"","label":"原料:","format":"{{msg.payload}}","layout":"row-left","x":765,"y":1000,"wires":[]},{"id":"67c7b776.82e258","type":"ui_text","z":"45b6e581.2ef7ec","group":"7035559.cdf00ac","order":0,"width":"2","height":"2","name":"","label":"原料:","format":"{{msg.payload}}","layout":"row-left","x":770,"y":1060,"wires":[]},{"id":"e3ebeae2.655368","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"onceDelay":0.1,"x":110,"y":40,"wires":[["56c6ef5b.68492"]]},{"id":"f81d894.9f00078","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":false,"onceDelay":0.1,"x":100,"y":100,"wires":[["ceba5f8d.c2335"]]},{"id":"2f62b4f8.bb943c","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"onceDelay":0.1,"x":95,"y":162.8994140625,"wires":[["5e7008b1.5b6308"]]},{"id":"6ff43e9e.aeae1","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"onceDelay":0.1,"x":100,"y":220,"wires":[["cb56d405.d59f68"]]},{"id":"3d9863b4.e9f91c","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"onceDelay":0.1,"x":100,"y":280,"wires":[["669c6d72.936444"]]},{"id":"8fad3724.816868","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"onceDelay":0.1,"x":100,"y":400,"wires":[["afa3f90d.d16b08"]]},{"id":"722621ad.13a61","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":false,"onceDelay":0.1,"x":100,"y":440,"wires":[["f9757a9b.9bb558"]]},{"id":"600e373c.7c6a18","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"onceDelay":0.1,"x":100,"y":500,"wires":[["a4e74ac8.30efb8"]]},{"id":"9ed803b6.40367","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"onceDelay":0.1,"x":100,"y":560,"wires":[["227ece26.7f2dd2"]]},{"id":"c4262736.079088","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"onceDelay":0.1,"x":100,"y":640,"wires":[["523577cf.69fa58"]]},{"id":"e2a02730.624dc8","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"onceDelay":0.1,"x":120,"y":700,"wires":[["fb5cb659.ec52a8"]]},{"id":"7d8e128d.3bb2ac","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"onceDelay":0.1,"x":100,"y":760,"wires":[["604f1aae.3ad544"]]},{"id":"3bc5ed10.7c4432","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"onceDelay":0.1,"x":100,"y":820,"wires":[["a02d8302.612dc"]]},{"id":"3128229c.0d981e","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"onceDelay":0.1,"x":100,"y":880,"wires":[["2917154e.4b361a"]]},{"id":"8fcab21e.3c62e","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"onceDelay":0.1,"x":96.0173568725586,"y":939.12158203125,"wires":[["796df67e.261fe8"]]},{"id":"a9847601.8f22e8","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"onceDelay":0.1,"x":100,"y":1000,"wires":[["8d3cb296.8a73c"]]},{"id":"f7e2ea3c.7daab8","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"onceDelay":0.1,"x":100,"y":1060,"wires":[["7a28d77c.18d518"]]},{"id":"cb09fa2a.6d39f8","type":"ui_gauge","z":"45b6e581.2ef7ec","name":"","group":"d78e8a4d.fbd358","order":0,"width":"2","height":"2","gtype":"gage","title":"质量","label":"KG","format":"{{value}}","min":0,"max":"10000","colors":["#00b500","#e6e600","#ca3838"],"seg1":"1000","seg2":"2000","x":790,"y":1260,"wires":[]},{"id":"945cabff.8d3418","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"5","crontab":"","once":true,"onceDelay":0.1,"x":110,"y":1260,"wires":[["9bc6c00d.4ea22"]]},{"id":"e00ab030.8f005","type":"debug","z":"45b6e581.2ef7ec","name":"1号仓质量","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":700,"y":1180,"wires":[]},{"id":"fd6036e2.0fe758","type":"function","z":"45b6e581.2ef7ec","name":"BinWeight.2 料仓中原料的质量","func":"msg.payload = \"BinWeight.2\"\nmsg.payload = global.get(\"opc\")[\"BinWeight.2\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":1340,"wires":[["8582bac2.1508c8"]]},{"id":"291c84ce.8c53bc","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"20","crontab":"","once":true,"onceDelay":0.1,"x":120,"y":1340,"wires":[["fd6036e2.0fe758"]]},{"id":"8582bac2.1508c8","type":"ui_gauge","z":"45b6e581.2ef7ec","name":"","group":"8f68ad76.433db","order":0,"width":"2","height":"2","gtype":"gage","title":"质量","label":"KG","format":"{{value}}","min":0,"max":"8000","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":1340,"wires":[]},{"id":"70aa733.238308c","type":"function","z":"45b6e581.2ef7ec","name":"BinWeight.3 料仓中原料的质量","func":"msg.payload = \"BinWeight.3\"\nmsg.payload = global.get(\"opc\")[\"BinWeight.3\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":1420,"wires":[["7c9de165.6746"]]},{"id":"c8e58bfd.913e38","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"20","crontab":"","once":true,"onceDelay":0.1,"x":110,"y":1420,"wires":[["70aa733.238308c"]]},{"id":"7c9de165.6746","type":"ui_gauge","z":"45b6e581.2ef7ec","name":"","group":"b929c5c2.2d89b8","order":0,"width":"2","height":"2","gtype":"gage","title":"质量","label":"KG","format":"{{value}}","min":0,"max":"8000","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":1420,"wires":[]},{"id":"71f73023.76b89","type":"function","z":"45b6e581.2ef7ec","name":"BinWeight.4 料仓中原料的质量","func":"msg.payload = \"BinWeight.4\"\nmsg.payload = global.get(\"opc\")[\"BinWeight.4\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":1500,"wires":[["915c7b5.a2b4788"]]},{"id":"198bb17b.29119f","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"onceDelay":0.1,"x":110,"y":1500,"wires":[["71f73023.76b89"]]},{"id":"915c7b5.a2b4788","type":"ui_gauge","z":"45b6e581.2ef7ec","name":"","group":"adc94a58.8104e8","order":0,"width":"2","height":"2","gtype":"gage","title":"质量","label":"KG","format":"{{value}}","min":0,"max":"8000","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":1500,"wires":[]},{"id":"d54405bb.cfa398","type":"function","z":"45b6e581.2ef7ec","name":"BinWeight.5 料仓中原料的质量","func":"msg.payload = \"BinWeight.5\"\nmsg.payload = global.get(\"opc\")[\"BinWeight.5\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":1600,"wires":[["c536d683.002a48"]]},{"id":"de1ff397.78a3b","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"24","crontab":"","once":true,"onceDelay":0.1,"x":110,"y":1600,"wires":[["d54405bb.cfa398"]]},{"id":"c536d683.002a48","type":"ui_gauge","z":"45b6e581.2ef7ec","name":"","group":"319f7754.61dbb8","order":0,"width":"2","height":"2","gtype":"gage","title":"质量","label":"KG","format":"{{value}}","min":0,"max":"8000","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":1600,"wires":[]},{"id":"bbfc68d8.f0a2c8","type":"function","z":"45b6e581.2ef7ec","name":"BinWeight.6 料仓中原料的质量","func":"msg.payload = \"BinWeight.6\"\nmsg.payload = global.get(\"opc\")[\"BinWeight.6\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":315,"y":1695.8994140625,"wires":[["acf974c.528fb88"]]},{"id":"9c5e9e87.31a7b","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"onceDelay":0.1,"x":115,"y":1695.8994140625,"wires":[["bbfc68d8.f0a2c8"]]},{"id":"acf974c.528fb88","type":"ui_gauge","z":"45b6e581.2ef7ec","name":"","group":"c2e6e0da.98a8a","order":0,"width":"2","height":"2","gtype":"gage","title":"质量","label":"KG","format":"{{value}}","min":0,"max":"8000","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":795,"y":1695.8994140625,"wires":[]},{"id":"156a58a7.0bbf27","type":"function","z":"45b6e581.2ef7ec","name":"BinWeight.7 料仓中原料的质量","func":"msg.payload = \"BinWeight.7\"\nmsg.payload = global.get(\"opc\")[\"BinWeight.7\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":315,"y":1758.454833984375,"wires":[["ae7522ff.7933d"]]},{"id":"4093506c.e5a38","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"onceDelay":0.1,"x":115,"y":1758.454833984375,"wires":[["156a58a7.0bbf27"]]},{"id":"ae7522ff.7933d","type":"ui_gauge","z":"45b6e581.2ef7ec","name":"","group":"b61c97b9.9ba358","order":0,"width":"2","height":"2","gtype":"gage","title":"质量","label":"KG","format":"{{value}}","min":0,"max":"8000","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":795,"y":1758.454833984375,"wires":[]},{"id":"cf363555.4fa068","type":"function","z":"45b6e581.2ef7ec","name":"BinWeight.8 料仓中原料的质量","func":"msg.payload = \"BinWeight.8\"\nmsg.payload = global.get(\"opc\")[\"BinWeight.8\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":1820,"wires":[["5f29e41c.09507c"]]},{"id":"4b4dc1e7.7bf18","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"onceDelay":0.1,"x":110,"y":1820,"wires":[["cf363555.4fa068"]]},{"id":"5f29e41c.09507c","type":"ui_gauge","z":"45b6e581.2ef7ec","name":"","group":"c2d01502.8d51c8","order":0,"width":"2","height":"2","gtype":"gage","title":"质量","label":"KG","format":"{{value}}","min":0,"max":"8000","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":1820,"wires":[]},{"id":"dd8748a5.e65eb8","type":"function","z":"45b6e581.2ef7ec","name":"BinWeight.9 料仓中原料的质量","func":"msg.payload = \"BinWeight.9\"\nmsg.payload = global.get(\"opc\")[\"BinWeight.9\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":1880,"wires":[["513632e2.f2902c"]]},{"id":"bd2e89c0.d30908","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"20","crontab":"","once":true,"onceDelay":0.1,"x":110,"y":1880,"wires":[["dd8748a5.e65eb8"]]},{"id":"513632e2.f2902c","type":"ui_gauge","z":"45b6e581.2ef7ec","name":"","group":"7035559.cdf00ac","order":0,"width":"2","height":"2","gtype":"gage","title":"质量","label":"KG","format":"{{value}}","min":0,"max":"8000","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":1880,"wires":[]},{"id":"359efe92.f184a2","type":"function","z":"45b6e581.2ef7ec","name":"BinWeight.10 料仓中原料的质量","func":"msg.payload = \"BinWeight.10\"\nmsg.payload = global.get(\"opc\")[\"BinWeight.10\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":1960,"wires":[["15f74c46.614484"]]},{"id":"a26a295b.cb4058","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"24","crontab":"","once":true,"onceDelay":0.1,"x":110,"y":1960,"wires":[["359efe92.f184a2"]]},{"id":"15f74c46.614484","type":"ui_gauge","z":"45b6e581.2ef7ec","name":"","group":"76f87456.6e983c","order":0,"width":"2","height":"2","gtype":"gage","title":"质量","label":"KG","format":"{{value}}","min":0,"max":"8000","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":1960,"wires":[]},{"id":"5e77a100.f1729","type":"function","z":"45b6e581.2ef7ec","name":"BinWeight.11 料仓中原料的质量","func":"msg.payload = \"BinWeight.11\"\nmsg.payload = global.get(\"opc\")[\"BinWeight.11\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":2020,"wires":[["7ae165c3.d8a9bc"]]},{"id":"bc8762f6.4ba44","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"20","crontab":"","once":true,"onceDelay":0.1,"x":130,"y":2020,"wires":[["5e77a100.f1729"]]},{"id":"7ae165c3.d8a9bc","type":"ui_gauge","z":"45b6e581.2ef7ec","name":"","group":"8cfbc525.344368","order":0,"width":"2","height":"2","gtype":"gage","title":"质量","label":"KG","format":"{{value}}","min":0,"max":"8000","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":2020,"wires":[]},{"id":"c01a806e.bf496","type":"function","z":"45b6e581.2ef7ec","name":"BinWeight.12 料仓中原料的质量","func":"msg.payload = \"BinWeight.12\"\nmsg.payload = global.get(\"opc\")[\"BinWeight.12\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":2080,"wires":[["ed70f6de.9e3f58"]]},{"id":"1c846a80.872ed6","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"onceDelay":0.1,"x":110,"y":2080,"wires":[["c01a806e.bf496"]]},{"id":"ed70f6de.9e3f58","type":"ui_gauge","z":"45b6e581.2ef7ec","name":"","group":"b0f06a0c.b65398","order":0,"width":"2","height":"2","gtype":"gage","title":"质量","label":"KG","format":"{{value}}","min":0,"max":"8000","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":2080,"wires":[]},{"id":"c9648d6b.2e105","type":"function","z":"45b6e581.2ef7ec","name":"BinWeight.13 料仓中原料的质量","func":"msg.payload = \"BinWeight.13\"\nmsg.payload = global.get(\"opc\")[\"BinWeight.13\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":2140,"wires":[["60d5d2d7.7bfe1c"]]},{"id":"b095a938.ead0a8","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"onceDelay":0.1,"x":110,"y":2140,"wires":[["c9648d6b.2e105"]]},{"id":"60d5d2d7.7bfe1c","type":"ui_gauge","z":"45b6e581.2ef7ec","name":"","group":"4dd3ab69.3c4474","order":0,"width":"2","height":"2","gtype":"gage","title":"质量","label":"KG","format":"{{value}}","min":0,"max":"8000","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":2140,"wires":[]},{"id":"b415100e.9466f","type":"function","z":"45b6e581.2ef7ec","name":"BinWeight.14 料仓中原料的质量","func":"msg.payload = \"BinWeight.14\"\nmsg.payload = global.get(\"opc\")[\"BinWeight.14\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":2220,"wires":[["7dcc79e4.a93888"]]},{"id":"28ee6d48.80f582","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"onceDelay":0.1,"x":130,"y":2220,"wires":[["b415100e.9466f"]]},{"id":"7dcc79e4.a93888","type":"ui_gauge","z":"45b6e581.2ef7ec","name":"","group":"9bc6b7b7.a8c4b8","order":0,"width":"2","height":"2","gtype":"gage","title":"质量","label":"KG","format":"{{value}}","min":0,"max":"8000","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":2220,"wires":[]},{"id":"812f74d1.d231a8","type":"function","z":"45b6e581.2ef7ec","name":"BinWeight.15 料仓中原料的质量","func":"msg.payload = \"BinWeight.15\"\nmsg.payload = global.get(\"opc\")[\"BinWeight.15\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":2280,"wires":[["9f502d14.05233"]]},{"id":"5974ce1b.77c2f","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"10","crontab":"","once":true,"onceDelay":0.1,"x":110,"y":2280,"wires":[["812f74d1.d231a8"]]},{"id":"9f502d14.05233","type":"ui_gauge","z":"45b6e581.2ef7ec","name":"","group":"560b4b29.e57b94","order":0,"width":"2","height":"2","gtype":"gage","title":"质量","label":"KG","format":"{{value}}","min":0,"max":"8000","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":2280,"wires":[]},{"id":"2c061ed8.0638f2","type":"function","z":"45b6e581.2ef7ec","name":"BinWeight.16 料仓中原料的质量","func":"msg.payload = \"BinWeight.16\"\nmsg.payload = global.get(\"opc\")[\"BinWeight.16\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":2340,"wires":[["a2f96aad.284968"]]},{"id":"59bcfdcb.dac2e4","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"15","crontab":"","once":true,"onceDelay":0.1,"x":110,"y":2340,"wires":[["2c061ed8.0638f2"]]},{"id":"a2f96aad.284968","type":"ui_gauge","z":"45b6e581.2ef7ec","name":"","group":"b4427ecd.23025","order":0,"width":"2","height":"2","gtype":"gage","title":"质量","label":"KG","format":"{{value}}","min":0,"max":"8000","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":2340,"wires":[]},{"id":"de5b4af8.a17018","type":"function","z":"45b6e581.2ef7ec","name":"BinWeight.17 料仓中原料的质量","func":"msg.payload = \"BinWeight.17\"\nmsg.payload = global.get(\"opc\")[\"BinWeight.17\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":2400,"wires":[["a09167e7.46ea18"]]},{"id":"74d55a30.560524","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"5","crontab":"","once":true,"onceDelay":0.1,"x":110,"y":2400,"wires":[["de5b4af8.a17018"]]},{"id":"a09167e7.46ea18","type":"ui_gauge","z":"45b6e581.2ef7ec","name":"","group":"637f7469.fe97bc","order":0,"width":"2","height":"2","gtype":"gage","title":"质量","label":"KG","format":"{{value}}","min":0,"max":"8000","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":2400,"wires":[]},{"id":"46b4783c.1c5b88","type":"function","z":"45b6e581.2ef7ec","name":"BinWeight.18 料仓中原料的质量","func":"msg.payload = \"BinWeight.18\"\nmsg.payload = global.get(\"opc\")[\"BinWeight.18\"] || \"\";\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":2460,"wires":[["670e66d7.f280a8"]]},{"id":"24fbcd49.01b8a2","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"5","crontab":"","once":true,"onceDelay":0.1,"x":110,"y":2460,"wires":[["46b4783c.1c5b88"]]},{"id":"670e66d7.f280a8","type":"ui_gauge","z":"45b6e581.2ef7ec","name":"","group":"5fee8970.6f7818","order":0,"width":"2","height":"2","gtype":"gage","title":"质量","label":"KG","format":"{{value}}","min":0,"max":"8000","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":790,"y":2460,"wires":[]},{"id":"ed5b2079.cd844","type":"inject","z":"45b6e581.2ef7ec","name":"","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"onceDelay":0.1,"x":100,"y":1180,"wires":[["a3254b9f.141498"]]},{"id":"833d904a.09d92","type":"function","z":"851499c5.a870f8","name":"BagsClear 显示框上当前打包总数清零，触发清零操作时值变为1，触发完毕之后值变为0","func":"msg.payload = \"BagsClear\"\n\nmsg.payload = global.get(\"opc\")[\"BagsClear\"]\n\nreturn msg;","outputs":1,"noerr":0,"x":660,"y":140,"wires":[["7315375d.aa3f18"]]},{"id":"a5b81955.ae3a98","type":"function","z":"851499c5.a870f8","name":"BagSet 显示框上当前包装规格  kg/袋","func":"msg.payload = global.get(\"opc\")[\"IB16\"]\n\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":220,"wires":[[]]},{"id":"b982f854.d4a638","type":"function","z":"851499c5.a870f8","name":"out_alm 实际包装质量超过误差范围就报警，1表示报警，0灯灭","func":"msg.payload = \"out_alm\"\n\nreturn msg;","outputs":1,"noerr":0,"x":370,"y":300,"wires":[[]]},{"id":"86aa0a25.c38648","type":"function","z":"851499c5.a870f8","name":"TotalBags 当前打包个数","func":"msg.payload = \"TotalBags\"\n\nreturn msg;","outputs":1,"noerr":0,"x":250,"y":360,"wires":[[]]},{"id":"8d9aee79.c39cc","type":"function","z":"851499c5.a870f8","name":"Micro11_zero 小料秤清零标志，触发清零操作时值变为1，触发完毕之后值变为0","func":"msg.payload = \"Micro11_zero\"\n\nreturn msg;","outputs":1,"noerr":0,"x":420,"y":420,"wires":[[]]},{"id":"26b62db8.ca9262","type":"function","z":"851499c5.a870f8","name":"PL1.Gross11 S1秤上的原料质量","func":"msg.payload = \"PL1.Gross11\"\n\nreturn msg;","outputs":1,"noerr":0,"x":270,"y":480,"wires":[[]]},{"id":"8b85ff9a.2a4df","type":"function","z":"851499c5.a870f8","name":"PL1.Gross12秤上的原料质量","func":"msg.payload = \"PL1.Gross12\"\n\nreturn msg;","outputs":1,"noerr":0,"x":300,"y":540,"wires":[[]]},{"id":"e9c9790e.462cf8","type":"function","z":"851499c5.a870f8","name":"PL1.Gross13S3 秤上的原料质量","func":"msg.payload = \"PL1.Gross13\"\n\nreturn msg;","outputs":1,"noerr":0,"x":270,"y":600,"wires":[[]]},{"id":"716ffc63.cda064","type":"function","z":"851499c5.a870f8","name":"PL1.Gross14 S4秤上的原料质量","func":"msg.payload = \"PL1.Gross14\"\n\nreturn msg;","outputs":1,"noerr":0,"x":270,"y":660,"wires":[[]]},{"id":"ab4095c8.efc318","type":"function","z":"851499c5.a870f8","name":"Scale11_zeroS1秤清零标志，触发清零操作时值变为1，触发完毕之后值变为0","func":"msg.payload = \"Scale11_zero\"\n\nreturn msg;","outputs":1,"noerr":0,"x":410,"y":720,"wires":[[]]},{"id":"3aa40201.5f3fce","type":"function","z":"851499c5.a870f8","name":"Scale12_zero秤清零标志，触发清零操作时值变为1，触发完毕之后值变为0","func":"msg.payload = \"Scale12_zero\"\n\nreturn msg;","outputs":1,"noerr":0,"x":400,"y":760,"wires":[[]]},{"id":"69579a2f.4706e4","type":"function","z":"851499c5.a870f8","name":"Scale13_zero S3秤清零标志，触发清零操作时值变为1，触发完毕之后值变为0","func":"msg.payload = \"Scale13_zero\"\n\nreturn msg;","outputs":1,"noerr":0,"x":410,"y":820,"wires":[[]]},{"id":"c7066936.6d47f8","type":"function","z":"851499c5.a870f8","name":"Scale14_zero S4秤清零标志，触发清零操作时值变为1，触发完毕之后值变为0","func":"msg.payload = \"Scale14_zero\"\n\nreturn msg;","outputs":1,"noerr":0,"x":410,"y":880,"wires":[[]]},{"id":"86a7eccd.fab84","type":"function","z":"851499c5.a870f8","name":"521_HHJ_HZ 混合机频率  HZ","func":"msg.payload = \"521_HHJ_HZ\"\n\nreturn msg;","outputs":1,"noerr":0,"x":260,"y":940,"wires":[[]]},{"id":"47b54311.df064c","type":"function","z":"851499c5.a870f8","name":"BZ_FL 当这一批的原料最后一次称量好的原料放入混合机时值变为1，当下一批的原料开始称量时值变为0","func":"msg.payload = \"BZ_FL\"\n\nreturn msg;","outputs":1,"noerr":0,"x":500,"y":1000,"wires":[[]]},{"id":"20ba6043.e75cc","type":"function","z":"851499c5.a870f8","name":"BZ_FLKS 当这一批的原料最后一次称量好的原料放入混合机时值触发响应变为1，触发结束变为0","func":"msg.payload = \"BZ_FLKS\"\n\nreturn msg;","outputs":1,"noerr":0,"x":450,"y":1060,"wires":[[]]},{"id":"1284718f.a1682e","type":"function","z":"851499c5.a870f8","name":"IB15","func":"msg.payload = \"IB15\"\n\nreturn msg;","outputs":1,"noerr":0,"x":170,"y":1120,"wires":[[]]},{"id":"28dc3593.ff044a","type":"function","z":"851499c5.a870f8","name":"mixer_full 当该批次所有的原料都装入混合机之后，混合机满标志字段mixer_full数值变为1，未满情况值为0","func":"msg.payload = \"mixer_full\"\n\nreturn msg;","outputs":1,"noerr":0,"x":500,"y":1160,"wires":[[]]},{"id":"2510899d.061a96","type":"function","z":"851499c5.a870f8","name":"mixer1.CurD 当前混合机已混合时间，到达设定的总时间之后值归零","func":"msg.payload = \"mixer1.CurD\"\n\nreturn msg;","outputs":1,"noerr":0,"x":360,"y":1220,"wires":[[]]},{"id":"fe5ad3f9.4fe1d","type":"function","z":"851499c5.a870f8","name":"mixer1.CurF 当前混合机已放料时间，到达设定的总时间之后值归零","func":"msg.payload = \"mixer1.CurF\"\n\nreturn msg;","outputs":1,"noerr":0,"x":360,"y":1280,"wires":[[]]},{"id":"9f2cbe75.69633","type":"function","z":"851499c5.a870f8","name":"mixer1.T_DSV 混合机设定的混合所需总时间","func":"msg.payload = \"mixer1.T_DSV\"\n\nreturn msg;","outputs":1,"noerr":0,"x":290,"y":1340,"wires":[[]]},{"id":"99dbce12.ccbad","type":"function","z":"851499c5.a870f8","name":"mixer1.T_FSV 混合机设定的放料所需总时间","func":"msg.payload = \"mixer1.T_FSV\"\n\nreturn msg;","outputs":1,"noerr":0,"x":290,"y":1400,"wires":[[]]},{"id":"a5c5a74e.55bac8","type":"function","z":"851499c5.a870f8","name":"MixS 当这一批的原料全部放入混合机，混合机开始搅拌时触发响应变为1，触发结束变为0","func":"msg.payload = \"MixS\"\n\nreturn msg;","outputs":1,"noerr":0,"x":430,"y":1440,"wires":[[]]},{"id":"9b03d75c.afab08","type":"function","z":"851499c5.a870f8","name":"PL1.Bz_PLRUN1 当所有的秤清零后数值显示为零时值为0，当任意秤上有原料数值不为零时值为1","func":"msg.payload = \"PL1.Bz_PLRUN1\"\n\nreturn msg;","outputs":1,"noerr":0,"x":450,"y":1500,"wires":[[]]},{"id":"90e821f.3cedfe","type":"function","z":"851499c5.a870f8","name":"PL1.Cmd_MLock1  混合机和下面完成混合的原料仓之间挡板的状态   1表示挡板锁定状态  0表示挡板打开状态","func":"msg.payload = \"PL1.Cmd_MLock1\"\n\nreturn msg;","outputs":1,"noerr":0,"x":480,"y":1560,"wires":[[]]},{"id":"1c9960a3.b9a58f","type":"function","z":"851499c5.a870f8","name":"scale1_AdLz.1","func":"msg.payload = \"scale1_AdLz.1\"\n\nreturn msg;","outputs":1,"noerr":0,"x":200,"y":1620,"wires":[[]]},{"id":"cacf968b.1d8d38","type":"function","z":"851499c5.a870f8","name":"scale1_AdLz.2","func":"msg.payload = \"scale1_AdLz.2\"\n\nreturn msg;","outputs":1,"noerr":0,"x":200,"y":1680,"wires":[[]]},{"id":"37daeaf2.373b16","type":"function","z":"851499c5.a870f8","name":"IB16 IB16代表了载体仓和3-8大料仓仓盖","func":"msg.payload = \"IB16\"\n\nreturn msg;","outputs":1,"noerr":0,"x":280,"y":1740,"wires":[[]]},{"id":"a44f286f.57b228","type":"function","z":"851499c5.a870f8","name":"IB17 IB17代表了载体仓和9-16大料仓仓盖","func":"msg.payload = \"IB17\"\n\nreturn msg;","outputs":1,"noerr":0,"x":280,"y":1800,"wires":[[]]},{"id":"f65994ec.d5f978","type":"function","z":"851499c5.a870f8","name":"IB18 IB18代表了17和18大料仓仓盖","func":"msg.payload = \"IB18\"\n\nreturn msg;","outputs":1,"noerr":0,"x":260,"y":1860,"wires":[[]]},{"id":"ed8a5c10.7a733","type":"inject","z":"851499c5.a870f8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":170,"y":240,"wires":[["a5b81955.ae3a98"]]},{"id":"7315375d.aa3f18","type":"ui_text","z":"851499c5.a870f8","group":"1be303ec.f8845c","order":0,"width":0,"height":0,"name":"","label":"text","format":"{{msg.payload}}","layout":"row-spread","x":1500,"y":200,"wires":[]},{"id":"8448b295.35e71","type":"ui_text","z":"851499c5.a870f8","group":"1be303ec.f8845c","order":0,"width":0,"height":0,"name":"","label":"text","format":"{{msg.payload}}","layout":"row-spread","x":1230,"y":240,"wires":[]},{"id":"953f7926.8e64f8","type":"inject","z":"3cb9951c.b40e9a","name":"OPC列表获取","topic":"","payload":"","payloadType":"date","repeat":"30","crontab":"","once":true,"onceDelay":0.1,"x":160,"y":400,"wires":[["85c56fdf.947ed"]]},{"id":"85c56fdf.947ed","type":"http request","z":"3cb9951c.b40e9a","name":"获取OPC信息列表","method":"GET","ret":"txt","url":"http://localhost:8088/app/rest/v2/queries/sct$VtOPCSignal/vtOPCSignal-query","tls":"","x":380,"y":420,"wires":[["8225d624.d3ac08"]]},{"id":"20d6e256.e1fe1e","type":"debug","z":"3cb9951c.b40e9a","name":"","active":true,"tosidebar":true,"console":true,"tostatus":false,"complete":"true","x":800,"y":420,"wires":[]},{"id":"8225d624.d3ac08","type":"function","z":"3cb9951c.b40e9a","name":"设置全局的opc变量","func":"// var opc  = global.get(\"opc\") || {}; \nopc = {};\nvar opclist = JSON.parse(msg.payload);\nfor(i=0;i<opclist.length;i++){\n    opc[opclist[i][\"itemId\"]]=opclist[i][\"value\"];\n}\nglobal.set(\"opc\", opc);\n\nreturn opc;","outputs":1,"noerr":0,"x":620,"y":420,"wires":[["20d6e256.e1fe1e"]]},{"id":"20acdd2b.125cc2","type":"mqtt in","z":"5f3fd6e.c4b4328","name":"报警","topic":"warning","qos":"0","broker":"a46a9e73.5d3d9","x":150,"y":160,"wires":[["491df188.e6d1a"]]},{"id":"e4b0daf7.0b77b8","type":"mqtt in","z":"5f3fd6e.c4b4328","name":"RFID服务的MQTT链接断开了","topic":"rfid/lastword","qos":"2","broker":"a46a9e73.5d3d9","x":220,"y":320,"wires":[["21dd59.fbdb62a8"]]},{"id":"21dd59.fbdb62a8","type":"function","z":"5f3fd6e.c4b4328","name":"","func":"\nmsg.payload = \"警报...RFID的MQTT服务断开了\";\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":300,"wires":[["491df188.e6d1a"]]},{"id":"b7d0f20b.60d4b","type":"function","z":"3cb9951c.b40e9a","name":"OPC布勒仓处理","func":"var a = {};\na.payload = {\"topic\":msg.topic, \"value\": msg.payload}\nreturn a;\n","outputs":1,"noerr":0,"x":310,"y":180,"wires":[["603c722.f60f48c"]]},{"id":"603c722.f60f48c","type":"http request","z":"3cb9951c.b40e9a","name":"","method":"POST","ret":"txt","url":"http://localhost:8088/app/rest/v2/services/sct_VtBuhlerBinService/opcUpdateBuhlerBinQty","tls":"","x":490,"y":120,"wires":[["d5a4c6df.1fc8d8"]]},{"id":"d5a4c6df.1fc8d8","type":"debug","z":"3cb9951c.b40e9a","name":"1111111111111111111","active":true,"tosidebar":true,"console":true,"tostatus":false,"complete":"payload","x":750,"y":120,"wires":[]},{"id":"d51bbaa2.07a568","type":"mqtt out","z":"3cb9951c.b40e9a","name":"opc/BinWeight.1","topic":"opc/BinWeight.1","qos":"2","retain":"","broker":"a46a9e73.5d3d9","x":290,"y":60,"wires":[]},{"id":"a2b19e39.bb79a","type":"inject","z":"3cb9951c.b40e9a","name":"","topic":"","payload":"2000","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":110,"y":80,"wires":[["d51bbaa2.07a568"]]},{"id":"93eb259a.e57c28","type":"inject","z":"c346649a.4988d8","name":"OPC列表获取","topic":"mqtt-gropu by topic","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":220,"y":1640,"wires":[["859b3b9f.a0f348"]]},{"id":"859b3b9f.a0f348","type":"http request","z":"c346649a.4988d8","name":"获取OPC信息列表","method":"GET","ret":"txt","url":"http://localhost:8088/app/rest/v2/services/sct_MqttService/groupByTopic","tls":"","x":440,"y":1660,"wires":[["2dd2689f.840d38"]]},{"id":"2dd2689f.840d38","type":"debug","z":"c346649a.4988d8","name":"8888888888888888","active":true,"tosidebar":true,"console":true,"tostatus":true,"complete":"payload","x":710,"y":1640,"wires":[]},{"id":"fe67fc90.57aad","type":"inject","z":"3cb9951c.b40e9a","name":"获取MQTT的分组","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":140,"y":500,"wires":[["efa64a02.a68c48"]]},{"id":"efa64a02.a68c48","type":"http request","z":"3cb9951c.b40e9a","name":"获取MQTT的分组","method":"GET","ret":"txt","url":"http://localhost:8088/app/rest/v2/services/sct_MqttService/groupByTopic","tls":"","x":360,"y":520,"wires":[["4d2af311.5f7b3c"]]},{"id":"4d2af311.5f7b3c","type":"debug","z":"3cb9951c.b40e9a","name":"6666666666666666","active":true,"tosidebar":true,"console":true,"tostatus":false,"complete":"true","x":830,"y":520,"wires":[]},{"id":"491df188.e6d1a","type":"play audio","z":"5f3fd6e.c4b4328","name":"","voice":"","x":720,"y":180,"wires":[]},{"id":"3cb8e5e4.7e21ca","type":"function","z":"cef65a87.85b978","name":"Store and shift msg","func":"\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text = [];\n    \n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":590,"y":360,"wires":[["67413c8.3367fc4"]]},{"id":"85fc735e.edd9c","type":"mqtt in","z":"76cf9ade.1171a4","name":"","topic":"#","qos":"2","broker":"a46a9e73.5d3d9","x":110,"y":100,"wires":[["a63347f0.7382b8"]]},{"id":"a63347f0.7382b8","type":"switch","z":"76cf9ade.1171a4","name":"判断TOPIC","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"opc/mixer_full","vt":"str"},{"t":"eq","v":"buhler_bin_open","vt":"str"},{"t":"eq","v":"TotalBags","vt":"str"},{"t":"eq","v":"zt_tz","vt":"str"},{"t":"eq","v":"opc/BinWeight.1","vt":"str"},{"t":"eq","v":"opc/BinWeight.2","vt":"str"},{"t":"eq","v":"opc/BinWeight.3","vt":"str"},{"t":"eq","v":"opc/BinWeight.4","vt":"str"},{"t":"eq","v":"opc/BinWeight.5","vt":"str"},{"t":"eq","v":"opc/BinWeight.6","vt":"str"},{"t":"eq","v":"opc/BinWeight.7","vt":"str"},{"t":"eq","v":"opc/BinWeight.8","vt":"str"},{"t":"eq","v":"opc/BinWeight.9","vt":"str"},{"t":"eq","v":"opc/BinWeight.10","vt":"str"},{"t":"eq","v":"opc/BinWeight.11","vt":"str"},{"t":"eq","v":"opc/BinWeight.12","vt":"str"},{"t":"eq","v":"opc/BinWeight.13","vt":"str"},{"t":"eq","v":"opc/BinWeight.14","vt":"str"},{"t":"eq","v":"opc/BinWeight.15","vt":"str"},{"t":"eq","v":"opc/BinWeight.16","vt":"str"},{"t":"eq","v":"opc/BinWeight.17","vt":"str"},{"t":"eq","v":"opc/BinWeight.18","vt":"str"}],"checkall":"true","repair":false,"outputs":22,"x":210,"y":380,"wires":[["eb2200e6.f18c3"],["6cf63341.0afdbc"],["97a0915f.49f1b"],["a9813902.7924f8"],["170c7d22.0fbb73"],["c98db47a.dc3b48"],["583458f4.fc8968"],["b26c4fcb.078a1"],["65f75cb7.852444"],["b48a8430.be4b58"],["eaee261a.cc3e18"],["eac89ed3.5514d"],["8b3cf284.d6c1c"],["a55a6cbd.5e25d"],["1e6fa791.cde1d8"],["1221fcc1.4d1f23"],["ed6bccd3.adceb"],["38cf38fa.613228"],["78e874fa.f6023c"],["7f37c0a2.37378"],["6da599f0.224f28"],["f8e5c9ae.e6c9e8"]]},{"id":"eb2200e6.f18c3","type":"function","z":"76cf9ade.1171a4","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text  = [];\n    //text.length = 20;\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":450,"y":140,"wires":[["65556d52.d82fb4"]]},{"id":"65556d52.d82fb4","type":"ui_template","z":"76cf9ade.1171a4","group":"f9c5b30c.9757e","name":"opc/mixer_full","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;margin-bottom:3px\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        <b>{{x.payload}}</b>\n        <br />\n\n    </button>\n   \n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":660,"y":140,"wires":[[]]},{"id":"6cf63341.0afdbc","type":"function","z":"76cf9ade.1171a4","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text  = [];\n    //text.length = 20;\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":430,"y":180,"wires":[["a45fdd38.a4d17"]]},{"id":"a45fdd38.a4d17","type":"ui_template","z":"76cf9ade.1171a4","group":"75b87c64.30e064","name":"buhler_bin_open","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;margin-bottom:3px\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        <b>{{x.payload}}</b>\n        \n\n    </button>\n   \n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":670,"y":200,"wires":[[]]},{"id":"a9813902.7924f8","type":"function","z":"76cf9ade.1171a4","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text  = [];\n    //text.length = 20;\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":430,"y":280,"wires":[["ec85da6.ac01c28"]]},{"id":"ec85da6.ac01c28","type":"ui_template","z":"76cf9ade.1171a4","group":"f10972e4.788e8","name":"zt_tz","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;margin-bottom:3px\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        <b>{{x.payload}}</b>\n        \n\n    </button>\n   \n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":630,"y":280,"wires":[[]]},{"id":"97a0915f.49f1b","type":"function","z":"76cf9ade.1171a4","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text  = [];\n    //text.length = 20;\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":450,"y":220,"wires":[["f589863d.c7e298"]]},{"id":"f589863d.c7e298","type":"ui_template","z":"76cf9ade.1171a4","group":"61faee9a.b75b4","name":"TotalBags","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;margin-bottom:3px\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        <b>{{x.payload}}</b>\n        \n\n    </button>\n   \n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":660,"y":240,"wires":[[]]},{"id":"170c7d22.0fbb73","type":"function","z":"76cf9ade.1171a4","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text  = [];\n    //text.length = 20;\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":430,"y":320,"wires":[["e6733cf6.f0947"]]},{"id":"e6733cf6.f0947","type":"ui_template","z":"76cf9ade.1171a4","group":"5fd48413.4ae97c","name":"opc/BinWeight.1","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;margin-bottom:3px\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        <b>{{x.payload}}</b>\n        \n\n    </button>\n   \n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":650,"y":320,"wires":[[]]},{"id":"c98db47a.dc3b48","type":"function","z":"76cf9ade.1171a4","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text  = [];\n    //text.length = 20;\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":430,"y":360,"wires":[["32e82d9a.da9952"]]},{"id":"32e82d9a.da9952","type":"ui_template","z":"76cf9ade.1171a4","group":"dfc56c74.6d91c","name":"opc/BinWeight.2","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;margin-bottom:3px\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        <b>{{x.payload}}</b>\n        \n\n    </button>\n   \n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":650,"y":360,"wires":[[]]},{"id":"33ee4035.434d5","type":"ui_template","z":"76cf9ade.1171a4","group":"cf03043.12b7ef8","name":"opc/BinWeight.3","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;margin-bottom:3px\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        <b>{{x.payload}}</b>\n        \n\n    </button>\n   \n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":650,"y":400,"wires":[[]]},{"id":"583458f4.fc8968","type":"function","z":"76cf9ade.1171a4","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text  = [];\n    //text.length = 20;\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":430,"y":400,"wires":[["33ee4035.434d5"]]},{"id":"7b1b7afd.686ec4","type":"ui_template","z":"76cf9ade.1171a4","group":"c29eff5c.26877","name":"opc/BinWeight.4","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;margin-bottom:3px\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        <b>{{x.payload}}</b>\n        \n\n    </button>\n   \n </div>\n","storeOutMessages":false,"fwdInMessages":true,"templateScope":"local","x":650,"y":440,"wires":[[]]},{"id":"b26c4fcb.078a1","type":"function","z":"76cf9ade.1171a4","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text  = [];\n    //text.length = 20;\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":430,"y":440,"wires":[["7b1b7afd.686ec4"]]},{"id":"1f6320ae.871b6f","type":"ui_template","z":"76cf9ade.1171a4","group":"3a61fbd.8684304","name":"opc/BinWeight.5","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;margin-bottom:3px\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        <b>{{x.payload}}</b>\n        \n\n    </button>\n   \n </div>\n","storeOutMessages":false,"fwdInMessages":true,"templateScope":"local","x":650,"y":480,"wires":[[]]},{"id":"65f75cb7.852444","type":"function","z":"76cf9ade.1171a4","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text  = [];\n    //text.length = 20;\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":430,"y":480,"wires":[["1f6320ae.871b6f"]]},{"id":"b48a8430.be4b58","type":"function","z":"76cf9ade.1171a4","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text  = [];\n    //text.length = 20;\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":430,"y":520,"wires":[["8ebca7d4.9dd358"]]},{"id":"8ebca7d4.9dd358","type":"ui_template","z":"76cf9ade.1171a4","group":"9a18bf37.3af7b","name":"opc/BinWeight.6","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;margin-bottom:3px\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        <b>{{x.payload}}</b>\n        \n\n    </button>\n   \n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":650,"y":520,"wires":[[]]},{"id":"eaee261a.cc3e18","type":"function","z":"76cf9ade.1171a4","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text  = [];\n    //text.length = 20;\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":430,"y":560,"wires":[["7c3d1942.c52488"]]},{"id":"7c3d1942.c52488","type":"ui_template","z":"76cf9ade.1171a4","group":"94c6d794.be6978","name":"opc/BinWeight.7","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;margin-bottom:3px\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        <b>{{x.payload}}</b>\n        \n\n    </button>\n   \n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":650,"y":560,"wires":[[]]},{"id":"f37e94bc.21a148","type":"ui_template","z":"76cf9ade.1171a4","group":"959e86e3.d69238","name":"opc/BinWeight.8","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;margin-bottom:3px\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        <b>{{x.payload}}</b>\n        \n\n    </button>\n   \n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":650,"y":600,"wires":[[]]},{"id":"eac89ed3.5514d","type":"function","z":"76cf9ade.1171a4","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text  = [];\n    //text.length = 20;\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":430,"y":600,"wires":[["f37e94bc.21a148"]]},{"id":"32b6cf66.14387","type":"ui_template","z":"76cf9ade.1171a4","group":"9238b308.ff996","name":"opc/BinWeight.9","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;margin-bottom:3px\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        <b>{{x.payload}}</b>\n        \n\n    </button>\n   \n </div>\n","storeOutMessages":false,"fwdInMessages":true,"templateScope":"local","x":650,"y":640,"wires":[[]]},{"id":"8b3cf284.d6c1c","type":"function","z":"76cf9ade.1171a4","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text  = [];\n    //text.length = 20;\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":430,"y":640,"wires":[["32b6cf66.14387"]]},{"id":"cf2f96f8.63c3b8","type":"ui_template","z":"76cf9ade.1171a4","group":"c25bee34.0ea3","name":"opc/BinWeight.10","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;margin-bottom:3px\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        <b>{{x.payload}}</b>\n        \n\n    </button>\n   \n </div>\n","storeOutMessages":false,"fwdInMessages":true,"templateScope":"local","x":650,"y":680,"wires":[[]]},{"id":"a55a6cbd.5e25d","type":"function","z":"76cf9ade.1171a4","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text  = [];\n    //text.length = 20;\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":430,"y":680,"wires":[["cf2f96f8.63c3b8"]]},{"id":"1e6fa791.cde1d8","type":"function","z":"76cf9ade.1171a4","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text  = [];\n    //text.length = 20;\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":430,"y":723,"wires":[["9312112b.331d7"]]},{"id":"9312112b.331d7","type":"ui_template","z":"76cf9ade.1171a4","group":"e93e934e.e7b0c","name":"opc/BinWeight.11","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;margin-bottom:3px\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        <b>{{x.payload}}</b>\n        \n\n    </button>\n   \n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":650,"y":723,"wires":[[]]},{"id":"1221fcc1.4d1f23","type":"function","z":"76cf9ade.1171a4","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text  = [];\n    //text.length = 20;\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":430,"y":763,"wires":[["1d4642bd.b872cd"]]},{"id":"1d4642bd.b872cd","type":"ui_template","z":"76cf9ade.1171a4","group":"cc72ceb5.8af27","name":"opc/BinWeight.12","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;margin-bottom:3px\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        <b>{{x.payload}}</b>\n        \n\n    </button>\n   \n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":650,"y":763,"wires":[[]]},{"id":"662bf8b7.78cad8","type":"ui_template","z":"76cf9ade.1171a4","group":"9268564.98096a8","name":"opc/BinWeight.13","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;margin-bottom:3px\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        <b>{{x.payload}}</b>\n        \n\n    </button>\n   \n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":650,"y":803,"wires":[[]]},{"id":"ed6bccd3.adceb","type":"function","z":"76cf9ade.1171a4","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text  = [];\n    //text.length = 20;\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":430,"y":803,"wires":[["662bf8b7.78cad8"]]},{"id":"df87035c.9564b","type":"ui_template","z":"76cf9ade.1171a4","group":"a0e0f5bb.88ba18","name":"opc/BinWeight.14","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;margin-bottom:3px\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        <b>{{x.payload}}</b>\n        \n\n    </button>\n   \n </div>\n","storeOutMessages":false,"fwdInMessages":true,"templateScope":"local","x":650,"y":843,"wires":[[]]},{"id":"38cf38fa.613228","type":"function","z":"76cf9ade.1171a4","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text  = [];\n    //text.length = 20;\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":430,"y":843,"wires":[["df87035c.9564b"]]},{"id":"335f2d70.8c2472","type":"ui_template","z":"76cf9ade.1171a4","group":"b08c16c5.b87018","name":"opc/BinWeight.15","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;margin-bottom:3px\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        <b>{{x.payload}}</b>\n        \n\n    </button>\n   \n </div>\n","storeOutMessages":false,"fwdInMessages":true,"templateScope":"local","x":650,"y":883,"wires":[[]]},{"id":"78e874fa.f6023c","type":"function","z":"76cf9ade.1171a4","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text  = [];\n    //text.length = 20;\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":430,"y":883,"wires":[["335f2d70.8c2472"]]},{"id":"7f37c0a2.37378","type":"function","z":"76cf9ade.1171a4","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text  = [];\n    //text.length = 20;\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":430,"y":923,"wires":[["f7ddf45a.a9c548"]]},{"id":"f7ddf45a.a9c548","type":"ui_template","z":"76cf9ade.1171a4","group":"9a56c0ec.2ef37","name":"opc/BinWeight.16","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;margin-bottom:3px\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        <b>{{x.payload}}</b>\n        \n\n    </button>\n   \n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":650,"y":923,"wires":[[]]},{"id":"6da599f0.224f28","type":"function","z":"76cf9ade.1171a4","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text  = [];\n    //text.length = 20;\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":430,"y":963,"wires":[["5ef8e22c.6e68bc"]]},{"id":"5ef8e22c.6e68bc","type":"ui_template","z":"76cf9ade.1171a4","group":"5c5b6fd4.16ef5","name":"opc/BinWeight.17","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;margin-bottom:3px\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        <b>{{x.payload}}</b>\n        \n\n    </button>\n   \n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":650,"y":963,"wires":[[]]},{"id":"c2c16ccb.4b4e8","type":"ui_template","z":"76cf9ade.1171a4","group":"b0a2d4f0.578698","name":"opc/BinWeight.18","order":1,"width":"12","height":"6","format":"\n <div ng-repeat=\"x in msg.payload\">\n \n\n    <button class=\"md-button\" style=\"text-align:left;font-size:9px;margin-bottom:3px\">\n        <font color=\"yellow\">{{x.now}}</font>\n        <br />\n        <b>{{x.payload}}</b>\n        \n\n    </button>\n   \n </div>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":650,"y":1005,"wires":[[]]},{"id":"f8e5c9ae.e6c9e8","type":"function","z":"76cf9ade.1171a4","name":"Store and shift msg","func":"\n\n\n// initialise the counter to 0 if it doesn't exist already\nvar text = context.get('text')|| [];\nvar d = new Date(); // for now\n\nmsg.now = d.getHours() + ':' + d.getMinutes() + \":\" + d.getSeconds();\nmsg.payload = JSON.parse(msg.payload);\ntext.unshift(msg);\nif (text.length > 20){\n    text  = [];\n    //text.length = 20;\n} \n\n// store the value back\ncontext.set('text',text);\n// make it part of the outgoing msg object\n\nmsg = {};\nmsg.payload = text;\nreturn msg;\n","outputs":1,"noerr":0,"x":430,"y":1005,"wires":[["c2c16ccb.4b4e8"]]}]